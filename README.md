# ๐ Rocket Factory
![Coverage](https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/Daniil-Sakharov/10df085c60a8192a207e1efc3d7d3690/raw/coverage.json)

> ะะธะบัะพัะตัะฒะธัะฝะฐั ัะธััะตะผะฐ ะดะปั ะพะฑัะปัะถะธะฒะฐะฝะธั ะธ ัะฟัะฐะฒะปะตะฝะธั ัะฐะบะตัะฐะผะธ

ะกะพะฒัะตะผะตะฝะฝะฐั ะฟะปะฐััะพัะผะฐ ะดะปั ะทะฐะบะฐะทะฐ, ะพะฟะปะฐัั ะธ ัะฟัะฐะฒะปะตะฝะธั ัะฐะบะตัะฝัะผะธ ะบะพะผะฟะพะฝะตะฝัะฐะผะธ, ะฟะพัััะพะตะฝะฝะฐั ะฝะฐ ะผะธะบัะพัะตัะฒะธัะฝะพะน ะฐััะธัะตะบัััะต ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ Go, gRPC ะธ Clean Architecture.

---

## ๐ ะกะพะดะตัะถะฐะฝะธะต

- [ะ ะฟัะพะตะบัะต](#ะพ-ะฟัะพะตะบัะต)
- [ะััะธัะตะบัััะฐ](#ะฐััะธัะตะบัััะฐ)
- [ะขะตัะฝะพะปะพะณะธะธ](#ัะตัะฝะพะปะพะณะธะธ)
- [ะัััััะน ััะฐัั](#ะฑัััััะน-ััะฐัั)
- [ะกะตัะฒะธัั](#ัะตัะฒะธัั)
- [API ะดะพะบัะผะตะฝัะฐัะธั](#api-ะดะพะบัะผะตะฝัะฐัะธั)
- [ะขะตััะธัะพะฒะฐะฝะธะต](#ัะตััะธัะพะฒะฐะฝะธะต)

---

## ๐ฏ ะ ะฟัะพะตะบัะต

**Rocket Factory** โ ััะพ pet-ะฟัะพะตะบั, ะดะตะผะพะฝัััะธััััะธะน best practices ัะฐะทัะฐะฑะพัะบะธ ะผะธะบัะพัะตัะฒะธัะฝัั ะฟัะธะปะพะถะตะฝะธะน ะฝะฐ Go. ะกะธััะตะผะฐ ะฟะพะทะฒะพะปัะตั:

- ๐ ะกะพะทะดะฐะฒะฐัั ะทะฐะบะฐะทั ะฝะฐ ัะฐะบะตัะฝัะต ะบะพะผะฟะพะฝะตะฝัั
- ๐ณ ะะฑัะฐะฑะฐััะฒะฐัั ะฟะปะฐัะตะถะธ ัะฐะทะปะธัะฝัะผะธ ัะฟะพัะพะฑะฐะผะธ
- ๐ฆ ะฃะฟัะฐะฒะปััั ัะบะปะฐะดะพะผ ะดะตัะฐะปะตะน
- ๐ ะััะปะตะถะธะฒะฐัั ััะฐัััั ะทะฐะบะฐะทะพะฒ

---

## ๐๏ธ ะััะธัะตะบัััะฐ

ะัะพะตะบั ัะปะตะดัะตั ะฟัะธะฝัะธะฟะฐะผ **Clean Architecture** ะธ **Domain-Driven Design (DDD)**:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    API Layer (gRPC/HTTP)                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                    Service Layer                        โ
โ              (Business Logic + Orchestration)           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                  Repository Layer                       โ
โ                 (Data Access Logic)                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                   Client Layer                          โ
โ            (External Service Communication)             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะธะบัะพัะตัะฒะธัั

- **Order Service** โ ัะฟัะฐะฒะปะตะฝะธะต ะทะฐะบะฐะทะฐะผะธ
- **Payment Service** โ ะพะฑัะฐะฑะพัะบะฐ ะฟะปะฐัะตะถะตะน
- **Inventory Service** โ ัะฟัะฐะฒะปะตะฝะธะต ัะบะปะฐะดะพะผ ะดะตัะฐะปะตะน

---

## ๐๏ธ ะขะตัะฝะพะปะพะณะธะธ

### Backend
- **Go 1.24+** โ ะพัะฝะพะฒะฝะพะน ัะทัะบ ัะฐะทัะฐะฑะพัะบะธ
- **gRPC** โ ะผะตะถัะตัะฒะธัะฝะพะต ะฒะทะฐะธะผะพะดะตะนััะฒะธะต
- **Protocol Buffers** โ ัะตัะธะฐะปะธะทะฐัะธั ะดะฐะฝะฝัั
- **OpenAPI 3.0** โ HTTP API ัะฟะตัะธัะธะบะฐัะธั

### Code Generation
- **Buf** โ ัะฟัะฐะฒะปะตะฝะธะต Protobuf ััะตะผะฐะผะธ
- **ogen** โ ะณะตะฝะตัะฐัะธั HTTP ัะตัะฒะตัะพะฒ ะธะท OpenAPI
- **Mockery** โ ะณะตะฝะตัะฐัะธั ะผะพะบะพะฒ ะดะปั ัะตััะธัะพะฒะฐะฝะธั

### Testing
- **testify** โ ััะตะนะผะฒะพัะบ ะดะปั ัะตััะธัะพะฒะฐะฝะธั
- **testify/suite** โ ะพัะณะฐะฝะธะทะฐัะธั ัะตััะพะฒ
- **gofakeit** โ ะณะตะฝะตัะฐัะธั ัะตััะพะฒัั ะดะฐะฝะฝัั

### Tools
- **Task** โ ะฐะฒัะพะผะฐัะธะทะฐัะธั ะทะฐะดะฐั (ะฐะฝะฐะปะพะณ Makefile)
- **golangci-lint** โ ะปะธะฝัะธะฝะณ ะบะพะดะฐ
- **gofumpt** โ ัะพัะผะฐัะธัะพะฒะฐะฝะธะต ะบะพะดะฐ

---

## ๐ ะัััััะน ััะฐัั

### ะขัะตะฑะพะฒะฐะฝะธั

- Go 1.24+
- Task (Taskfile)
- Buf CLI

### ะฃััะฐะฝะพะฒะบะฐ

```bash
# ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั
git clone https://github.com/yourusername/RocketFactory.git
cd RocketFactory

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
go work sync

# ะะตะฝะตัะฐัะธั ะบะพะดะฐ (Protobuf, OpenAPI, ะผะพะบะธ)
task gen

# ะะฐะฟััะบ ะฒัะตั ัะตััะพะฒ
task test
```

### ะะฐะฟััะบ ัะตัะฒะธัะพะฒ

```bash
# Order Service (HTTP: 8080, gRPC: 50051)
cd order && go run ./cmd

# Payment Service (gRPC: 50052)
cd payment && go run ./cmd

# Inventory Service (gRPC: 50053)
cd inventory && go run ./cmd
```

---

## ๐ฆ ะกะตัะฒะธัั

### Order Service

ะฃะฟัะฐะฒะปะตะฝะธะต ะถะธะทะฝะตะฝะฝัะผ ัะธะบะปะพะผ ะทะฐะบะฐะทะพะฒ.

**ะะพะทะผะพะถะฝะพััะธ:**
- ะกะพะทะดะฐะฝะธะต ะทะฐะบะฐะทะฐ ั ะฟัะพะฒะตัะบะพะน ะฝะฐะปะธัะธั ะดะตัะฐะปะตะน
- ะะฟะปะฐัะฐ ะทะฐะบะฐะทะฐ ัะตัะตะท Payment Service
- ะะพะปััะตะฝะธะต ะธะฝัะพัะผะฐัะธะธ ะพ ะทะฐะบะฐะทะต
- ะัะผะตะฝะฐ ะฝะตะพะฟะปะฐัะตะฝะฝัั ะทะฐะบะฐะทะพะฒ

**Endpoints:**
- `POST /api/v1/orders` โ ัะพะทะดะฐัั ะทะฐะบะฐะท
- `GET /api/v1/orders/{uuid}` โ ะฟะพะปััะธัั ะทะฐะบะฐะท
- `POST /api/v1/orders/{uuid}/pay` โ ะพะฟะปะฐัะธัั ะทะฐะบะฐะท
- `DELETE /api/v1/orders/{uuid}` โ ะพัะผะตะฝะธัั ะทะฐะบะฐะท

**Swagger UI:** http://localhost:8080/

### Payment Service

ะะฑัะฐะฑะพัะบะฐ ะฟะปะฐัะตะถะตะน.

**ะะตัะพะดั ะพะฟะปะฐัั:**
- ๐ณ ะะฐะฝะบะพะฒัะบะฐั ะบะฐััะฐ
- ๐ฑ ะกะะ (ะกะธััะตะผะฐ ะัััััั ะะปะฐัะตะถะตะน)
- ๐ฐ ะัะตะดะธัะฝะฐั ะบะฐััะฐ
- ๐ฆ ะะตะฝัะณะธ ะธะฝะฒะตััะพัะฐ

**gRPC API:**
- `PayOrder` โ ะพะฑัะฐะฑะพัะฐัั ะฟะปะฐัะตะถ

### Inventory Service

ะฃะฟัะฐะฒะปะตะฝะธะต ัะบะปะฐะดะพะผ ัะฐะบะตัะฝัั ะบะพะผะฟะพะฝะตะฝัะพะฒ.

**ะะฐัะตะณะพัะธะธ ะดะตัะฐะปะตะน:**
- ๐ง ะะฒะธะณะฐัะตะปะธ (ENGINE)
- โฝ ะขะพะฟะปะธะฒะพ (FUEL)
- ๐ช ะะปะปัะผะธะฝะฐัะพัั (PORTHOLE)
- โ๏ธ ะััะปัั (WING)

**gRPC API:**
- `GetPart` โ ะฟะพะปััะธัั ะดะตัะฐะปั ะฟะพ UUID
- `ListParts` โ ัะฟะธัะพะบ ะดะตัะฐะปะตะน ั ัะธะปัััะฐัะธะตะน 

---

## ๐ API ะดะพะบัะผะตะฝัะฐัะธั

### HTTP API (Order Service)

Swagger UI ะดะพัััะฟะตะฝ ะฟะพ ะฐะดัะตัั: http://localhost:8080/

ะะฒัะพะผะฐัะธัะตัะบะฐั ะณะตะฝะตัะฐัะธั ะธะท OpenAPI ัะฟะตัะธัะธะบะฐัะธะธ:
```bash
task swagger:generate
```

### gRPC API

Protobuf ััะตะผั ะฝะฐัะพะดัััั ะฒ `shared/proto/`:
- `inventory/v1/inventory.proto`
- `payment/v1/payment.proto`

ะัะพัะผะพัั ะผะตัะพะดะพะฒ:
```bash
grpcurl -plaintext localhost:50053 list
grpcurl -plaintext localhost:50053 describe inventory.v1.InventoryService
```

---

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ะะฐะฟััะบ ัะตััะพะฒ

```bash
# ะัะต ัะตััั
task test

# ะะพะฝะบัะตัะฝัะน ัะตัะฒะธั
cd order && go test ./internal/...

# ะก ะฟะพะบัััะธะตะผ
go test ./internal/... -cover
```

### ะะพะบัััะธะต ัะตััะฐะผะธ

| ะกะตัะฒะธั | ะะพะบัััะธะต |
|--------|----------|
| Order Service | 73.7% |
| Payment Service | 100.0% |
| Inventory Service | 90.9% |

### ะกัััะบัััะฐ ัะตััะพะฒ

ะัะฟะพะปัะทัะตััั ะฟะฐััะตัะฝ **Test Suite** ั `testify/suite`:

```go
type ServiceSuite struct {
    suite.Suite
    ctx             context.Context
    orderRepository *mocks.OrderRepository
    inventoryClient *mocks.InventoryClient
    service         *service
}

func (s *ServiceSuite) TestCreateOrderSuccess() {
    // Arrange
    request := &dto.CreateOrderRequest{...}
    s.inventoryClient.On("ListParts", ...).Return(parts, nil)
    
    // Act
    order, err := s.service.Create(s.ctx, request)
    
    // Assert
    s.Require().NoError(err)
    s.Require().NotNil(order)
}
```

---

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
RocketFactory/
โโโ order/              # Order Service
โ   โโโ cmd/           # Entry point
โ   โโโ internal/      # ะะฝัััะตะฝะฝัั ะปะพะณะธะบะฐ
โ   โ   โโโ api/      # HTTP/gRPC handlers
โ   โ   โโโ service/  # Business logic
โ   โ   โโโ repository/ # Data access
โ   โ   โโโ client/   # External service clients
โ   โ   โโโ model/    # Domain models (entity/dto/vo)
โ   โโโ pkg/          # ะัะฑะปะธัะฝัะต ััะธะปะธัั
โโโ payment/           # Payment Service
โโโ inventory/         # Inventory Service
โโโ shared/            # ะะฑัะธะต ะบะพะผะฟะพะฝะตะฝัั
โ   โโโ api/          # OpenAPI ัะฟะตัะธัะธะบะฐัะธะธ
โ   โโโ proto/        # Protobuf ััะตะผั
โ   โโโ pkg/          # ะกะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน ะบะพะด
โโโ Taskfile.yml       # ะะฒัะพะผะฐัะธะทะฐัะธั ะทะฐะดะฐั
โโโ go.work            # Go workspace
```

---

## ๐ง ะะพัััะฟะฝัะต ะบะพะผะฐะฝะดั

```bash
# ะะตะฝะตัะฐัะธั ะบะพะดะฐ
task gen                    # ะัั (Protobuf + OpenAPI + ะผะพะบะธ)
task proto:gen              # ะขะพะปัะบะพ Protobuf
task ogen:gen               # ะขะพะปัะบะพ OpenAPI
task mocks:gen              # ะขะพะปัะบะพ ะผะพะบะธ

# Swagger UI
task swagger:generate       # ะะตะฝะตัะฐัะธั Swagger ะดะพะบัะผะตะฝัะฐัะธะธ
task swagger:clean          # ะัะธััะบะฐ ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัั ัะฐะนะปะพะฒ

# ะขะตััะธัะพะฒะฐะฝะธะต
task test                   # ะะฐะฟััะบ ะฒัะตั ัะตััะพะฒ

# ะะธะฝัะธะฝะณ ะธ ัะพัะผะฐัะธัะพะฒะฐะฝะธะต
task lint                   # ะัะพะฒะตัะบะฐ ะบะพะดะฐ
task fmt                    # ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะบะพะดะฐ
```

---

## ๐จ ะัะพะฑะตะฝะฝะพััะธ ัะตะฐะปะธะทะฐัะธะธ

### Clean Architecture

- **ะะตะทะฐะฒะธัะธะผะพััั ะพั ััะตะนะผะฒะพัะบะพะฒ** โ ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ ะฝะต ะทะฐะฒะธัะธั ะพั ะฒะฝะตัะฝะธั ะฑะธะฑะปะธะพัะตะบ
- **ะขะตััะธััะตะผะพััั** โ ะบะฐะถะดัะน ัะปะพะน ัะตััะธััะตััั ะธะทะพะปะธัะพะฒะฐะฝะฝะพ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ะผะพะบะพะฒ
- **ะะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ** โ ัะตัะบะพะต ัะฐะทะดะตะปะตะฝะธะต ะฝะฐ ัะปะพะธ (API, Service, Repository, Client)

### Domain-Driven Design

- **Entity** โ ะดะพะผะตะฝะฝัะต ัััะฝะพััะธ (Order, Part)
- **Value Objects** โ ะฝะตะธะทะผะตะฝัะตะผัะต ะพะฑัะตะบัั (OrderStatus, PaymentMethod)
- **DTO** โ ะพะฑัะตะบัั ะฟะตัะตะดะฐัะธ ะดะฐะฝะฝัั ะผะตะถะดั ัะปะพัะผะธ
- **Domain Errors** โ ัะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะพะต ัะฟัะฐะฒะปะตะฝะธะต ะพัะธะฑะบะฐะผะธ

### ะะพะบะธัะพะฒะฐะฝะธะต

ะะฒัะพะผะฐัะธัะตัะบะฐั ะณะตะฝะตัะฐัะธั ะผะพะบะพะฒ ั ะฟะพะผะพััั Mockery:

```go
s.inventoryClient.On("ListParts", ctx, filter).Return(parts, nil)
s.orderRepository.On("Create", ctx, mock.MatchedBy(func(order *entity.Order) bool {
    return order.UserUUID == userUUID && order.Status == vo.OrderStatusPENDINGPAYMENT
})).Return(nil)
```

---

## ๐ ะะธัะตะฝะทะธั

MIT License - ัะฒะพะฑะพะดะฝะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะดะปั ะพะฑััะตะฝะธั ะธ ัะบัะฟะตัะธะผะตะฝัะพะฒ.

---

## ๐ค ะะพะฝัะฐะบัั

ะัะพะตะบั ัะพะทะดะฐะฝ ะฒ ะพะฑัะฐะทะพะฒะฐัะตะปัะฝัั ัะตะปัั ะดะปั ะดะตะผะพะฝัััะฐัะธะธ ะผะธะบัะพัะตัะฒะธัะฝะพะน ะฐััะธัะตะบัััั ะฝะฐ Go.

**ะะฒัะพั:** Daniil Sakharov  
**GitHub:** [github.com/Daniil-Sakharov](https://github.com/Daniil-Sakharov)

---

โญ ะัะปะธ ะฟัะพะตะบั ะฑัะป ะฟะพะปะตะทะตะฝ, ะฟะพััะฐะฒััะต ะทะฒะตะทะดั!